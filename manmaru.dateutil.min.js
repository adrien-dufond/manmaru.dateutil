DateUtil=function(){function a(){}return a.addLeadingZero=function(a){return a<10?"0"+a:a.toString()},a.getOrdinalSuffix=function(a){if(a>=10&&a<=20)return"th";switch(a%10){case 0:case 4:case 5:case 6:case 7:case 8:case 9:return"th";case 3:return"rd";case 2:return"nd";case 1:return"st"}},a.format=function(a,b,c,d){var e=a.toString(),f=e.length;if(void 0!=c){for(var g=e.split(""),h=3,i=g.length;--i>0;)h--,0==h&&(h=3,g.splice(i,0,c));e=g.join("")}if(void 0!=b&&f<b){b-=f;for(var j=void 0==d?"0":d;b--;)e=j+e}return e},a.formatDate=function(b,c){for(var e,g,d="",f=-1;++f<c.length;)if(e=c.substr(f,1),"^"==e)d+=c.substr(++f,1);else switch(e){case"d":d+=a.addLeadingZero(b.getDate());break;case"D":d+=a.getDayAbbrAsString(b.getDay());break;case"j":d+=b.getDate().toString();break;case"l":d+=a.getDayAsString(b.getDay());break;case"N":g=b.getDay(),0==g&&(g=7),d+=g.toString();break;case"S":d+=a.getOrdinalSuffix(b.getDate());break;case"w":d+=b.getDay().toString();break;case"z":d+=a.addLeadingZero(a.getDayOfTheYear(b)).toString();break;case"W":d+=a.addLeadingZero(a.getWeekOfTheYear(b)).toString();break;case"F":d+=a.getMonthAsString(b.getMonth());break;case"m":d+=a.addLeadingZero(b.getMonth()+1);break;case"M":d+=a.getMonthAbbrAsString(b.getMonth());break;case"n":d+=(b.getMonth()+1).toString();break;case"t":d+=a.getDaysInMonth(b.getMonth(),b.getFullYear()).toString();break;case"L":d+=a.isLeapYear(b.getFullYear())?"1":"0";break;case"o":case"Y":d+=b.getFullYear().toString();break;case"y":d+=b.getFullYear().toString().substr(-2);break;case"a":d+=a.getMeridiem(b.getHours()).toLowerCase();break;case"A":d+=a.getMeridiem(b.getHours());break;case"B":d+=a.format(a.getInternetTime(b),3,null,"0");break;case"g":g=b.getHours(),0==g?g=12:g>12&&(g-=12),d+=g.toString();break;case"G":d+=b.getHours().toString();break;case"h":g=b.getHours()+1,0==g?g=12:g>12&&(g-=12),d+=a.addLeadingZero(g);break;case"H":d+=a.addLeadingZero(b.getHours());break;case"i":d+=a.addLeadingZero(b.getMinutes());break;case"s":d+=a.addLeadingZero(b.getSeconds());break;case"I":d+=a.isDaylightSavings(b)?"1":"0";break;case"O":d+=a.getFormattedDifferenceFromUTC(b);break;case"P":d+=a.getFormattedDifferenceFromUTC(b,":");break;case"e":case"T":d+=a.getTimezone(b);break;case"Z":d+=Math.round(a.getDifferenceFromUTCInSeconds(b)).toString();break;case"c":d+=b.getFullYear()+"-"+a.addLeadingZero(b.getMonth()+1)+"-"+a.addLeadingZero(b.getDate())+"T"+a.addLeadingZero(b.getHours())+":"+a.addLeadingZero(b.getMinutes())+":"+a.addLeadingZero(b.getSeconds())+a.getFormattedDifferenceFromUTC(b,":");break;case"r":d+=a.getDayAbbrAsString(b.getDay())+", "+b.getDate()+" "+a.getMonthAbbrAsString(b.getMonth())+" "+b.getFullYear()+" "+a.addLeadingZero(b.getHours())+":"+a.addLeadingZero(b.getMinutes())+":"+a.addLeadingZero(b.getSeconds())+" "+a.getFormattedDifferenceFromUTC(b);break;case"U":g=Math.round(b.getTime()/1e3),d+=g.toString();break;default:d+=c.substr(f,1)}return d},a.iso8601ToDate=function(b){var c=b.toUpperCase().split("T"),d=c[0].split("-"),e=c[1].split(":"),f=ObjectUtil.isEmpty(d[0])?void 0:Number(d[0]),g=ObjectUtil.isEmpty(d[1])?void 0:Number(d[1]-1),h=ObjectUtil.isEmpty(d[2])?void 0:Number(d[2]),i=ObjectUtil.isEmpty(e[0])?void 0:Number(e[0]),j=ObjectUtil.isEmpty(e[1])?void 0:Number(e[1]),k=void 0,l=void 0;if(void 0!=e[2]){var n,m=e[2].length;if(e[2].indexOf("+")!=-1?m=e[2].indexOf("+"):e[2].indexOf("-")!=-1?m=e[2].indexOf("-"):e[2].indexOf("Z")!=-1&&(m=e[2].indexOf("Z")),void 0!=m&&(n=Number(e[2].slice(0,m)),k=Math.floor(n),l=1e3*(n%1/1)),m!=e[2].length){var o=e[2].slice(m),p=a.getDifferenceFromUTCInHours(new Date(f,g,h));switch(o.charAt(0)){case"+":case"-":i-=p+Number(o.slice(0));break;case"Z":i-=p}}}return new Date(f,g,h,i,j,k,l)},a.getMonthAsString=function(a){var b=new Array("January","February","March","April","May","June","July","August","September","October","November","December");return b[a]},a.getMonthAbbrAsString=function(b){return a.getMonthAsString(b).substr(0,3)},a.getDayAsString=function(a){var b=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday");return b[a]},a.getDayAbbrAsString=function(b){return a.getDayAsString(b).substr(0,3)},a.getDaysInMonth=function(a,b){return new Date(a,++b,0).getDate()},a.getMeridiem=function(a){return a<12?"AM":"PM"},a.getTimeBetween=function(a,b){return b.getTime()-a.getTime()},a.getCountdownUntil=function(b,c){var d=a.millisecondsToDays(a.getTimeBetween(b,c)),e=a.daysToHours(d%1),f=a.hoursToMinutes(e%1),g=a.minutesToSeconds(f%1),h=a.secondsToMilliseconds(g%1);return{days:Math.floor(d),hours:Math.floor(e),minutes:Math.floor(f),seconds:Math.floor(g),milliseconds:Math.round(h)}},a.secondsToHours=function(b){return a.minutesToHours(a.secondsToMinutes(b))},a.millisecondsToSeconds=function(a){return a/1e3},a.secondsToMinutes=function(a){return a/60},a.millisecondsToMinutes=function(b){return a.secondsToMinutes(a.millisecondsToSeconds(b))},a.minutesToHours=function(a){return a/60},a.millisecondsToHours=function(b){return a.minutesToHours(a.millisecondsToMinutes(b))},a.hoursToDays=function(a){return a/24},a.millisecondsToDays=function(b){return a.hoursToDays(a.millisecondsToHours(b))},a.daysToHours=function(a){return 24*a},a.hoursToMinutes=function(a){return 60*a},a.minutesToSeconds=function(a){return 60*a},a.secondsToMilliseconds=function(a){return 1e3*a},a.getDifferenceFromUTCInSeconds=function(b){return a.minutesToSeconds(b.getTimezoneOffset())},a.getDifferenceFromUTCInHours=function(b){return a.minutesToHours(b.getTimezoneOffset())},a.getFormattedDifferenceFromUTC=function(b,c){var d=-b.getTimezoneOffset()<0?"-":"+",e=void 0==c?"":c;return d+a.addLeadingZero(Math.floor(a.getDifferenceFromUTCInHours(b)))+e+a.addLeadingZero(b.getTimezoneOffset()%60)},a.getTimezone=function(b){var c=new Array("IDLW","NT","HST","AKST","PST","MST","CST","EST","AST","ADT","AT","WAT","GMT","CET","EET","MSK","ZP4","ZP5","ZP6","WAST","WST","JST","AEST","AEDT","NZST");return hour=Math.round(12+-(b.getTimezoneOffset()/60)),a.isDaylightSavings(b)&&hour--,c[hour]},a.isLeapYear=function(b){return 29==a.getDaysInMonth(b,1)},a.isDaylightSavings=function(a){for(var d,b=12,c=a.getTimezoneOffset();b--;)if(d=new Date(a.getFullYear(),b,1).getTimezoneOffset(),d!=c)return d>c;return!1},a.getInternetTime=function(b){var c=Math.floor((b.getUTCHours()+1+a.minutesToHours(b.getUTCMinutes())+a.secondsToHours(b.getUTCSeconds()))/.024);return c>1e3?c-1e3:c},a.getDayOfTheYear=function(a){var b=new Date(a.getFullYear(),0,1);return Math.floor((a.getTime()-b.getTime())/864e5)},a.getWeekOfTheYear=function(b){var c=new Date(b.getFullYear(),0,1),d=9-c.getDay(),e=new Date(b.getFullYear(),0,d>7?d-7:d),f=new Date(b.getFullYear(),b.getMonth(),b.getDate()),g=Math.floor(ConversionUtil.millisecondsToDays(f.getTime()-e.getTime())/7)+1;return 0==g?a.getWeekOfTheYear(new Date(b.getFullYear()-1,11,31)):g},a}();
